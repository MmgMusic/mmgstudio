/* css/frutiger-aero-theme.css */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap');

/* --- THÈME FRUTIGER AERO (Remplaçant Rétro-PC) --- */
body.theme-16bit {
    --bg-color: #a9dcf5;
    --text-color: #004466;
    /* Bleu foncé pour le contraste */
    --text-muted: #005580;
    --card-bg: rgba(255, 255, 255, 0.65);
    --ui-bar-bg: rgba(255, 255, 255, 0.8); /* Aero glass (Ajusté depuis common.css) */
    --ui-bar-border: #ffffff;
    --active-color: #0088cc;
    /* Bleu Windows/Aero */
    --icon-color: #005580;
    --search-bar-bg: rgba(255, 255, 255, 0.4);
    /* Plus transparent */
    --card-border: rgba(255, 255, 255, 0.9);
    --shadow-color: rgba(0, 136, 204, 0.25);
    --card-style-bg: rgba(255, 255, 255, 0.85);
    /* Pour les modales */
    --card-style-shadow: 0 8px 32px rgba(0, 60, 100, 0.25);

    /* Fond vibrant Ciel -> Vert (Frutiger Aero classique) */
    background: linear-gradient(135deg, #87CEEB 0%, #E0F7FA 50%, #98FB98 100%);
    background-attachment: fixed;
    font-family: 'Plus Jakarta Sans', sans-serif;
}

/* Reset des styles précédents */
body.theme-16bit .main-area,
body.theme-16bit .sidebar,
body.theme-16bit .card .card-inner,
body.theme-16bit .settings-card,
body.theme-16bit .search-bar,
body.theme-16bit .profile-tab,
body.theme-16bit .bottom-ui-container {
    border: none;
    box-shadow: none;
    backdrop-filter: none;
}

/* Effet Verre (Aero Glass) pour les conteneurs */
body.theme-16bit .sidebar,
body.theme-16bit .bottom-ui-container,
body.theme-16bit .mobile-bottom-nav,
body.theme-16bit .top-bar, /* NOUVEAU: Applique l'effet verre à la barre du haut */
body.theme-16bit .mobile-mini-player,
body.theme-16bit .dashboard-card:not(.carousel-card) {
    /* Fond plus opaque (quasi-solide) pour correspondre à la barre du haut */
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95) 0%, rgba(235, 248, 255, 0.95) 100%);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-top: none; /* CORRECTION: Suppression de la bordure haute */
    /* Bordure haute plus brillante */
    box-shadow:
        0 4px 15px rgba(0, 60, 100, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
    /* Reflet interne */
    backdrop-filter: blur(12px);
    border-radius: 16px;
}

/* Panneaux 100% Blancs (Settings, Notifs, Tags, Actions, Queue) */
body.theme-16bit .settings-card,
body.theme-16bit .mobile-queue-panel,
body.theme-16bit .mobile-card-menu-panel {
    background: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.9);
    box-shadow: 0 8px 32px rgba(0, 60, 100, 0.25);
    border-radius: 16px;
}

/* Cartes transparentes (Grid, List & Carousel) - Style plus léger et vitré */
body.theme-16bit .card {
    background: transparent;
    border: none;
    box-shadow: none;
    backdrop-filter: none;
}

/* Correction pour le Carrousel Hero en thème Frutiger Aero : Pas de bordure ni de fond vitré */
body.theme-16bit .carousel-card {
    background: transparent !important;
    border: none !important;
    backdrop-filter: none !important;
    box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.25) !important;
}

/* Correction pour la carte "À propos" (image qui ne chargeait pas) */
body.theme-16bit .dashboard-about-card {
    background-size: contain !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: #000 !important;
}

/* Grand lecteur mobile Custom (Aero Gradient) */
body.theme-16bit .mobile-full-player {
    background: linear-gradient(to bottom, #cceeff 0%, #ffffff 80%) !important;
    /* Dégradé plus visible */
}

/* Nettoyage du style du titre en cours dans la file d'attente (pas de contour/ombre) */
body.theme-16bit .playlist-item.currently-playing,
body.theme-16bit .mobile-queue-list .playlist-item.currently-playing {
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
    text-shadow: none !important;
    /* On garde uniquement la couleur du texte active */
}

/* Ajustement pour les barres du bas (pas d'arrondi en bas) */
body.theme-16bit .bottom-ui-container,
body.theme-16bit .mobile-bottom-nav,
body.theme-16bit .mobile-mini-player {
    border-radius: 0 !important;
    border-bottom: none;
}

/* CORRECTION: Suppression des arrondis pour la sidebar et le mini-player sur le thème Frutiger Aero */
body.theme-16bit .sidebar,
body.theme-16bit .mobile-mini-player,
body.theme-16bit .top-bar { /* NOUVEAU: Top bar carrée */
    border-radius: 0 !important;
}

/* Ajustement pour les panneaux du bas (coins arrondis uniquement en haut) */
body.theme-16bit .mobile-queue-panel,
body.theme-16bit .mobile-card-menu-panel {
    border-radius: 20px 20px 0 0;
    border-bottom: none;
}

/* Boutons Glossy (Effet Gel) */
body.theme-16bit .profile-tab,
body.theme-16bit .sidebar-nav-link,
body.theme-16bit .dashboard-card-button,
body.theme-16bit .shop-buy-btn,
body.theme-16bit .theme-buy-btn,
body.theme-16bit .view-switch-btn,
body.theme-16bit .lang-btn,
body.theme-16bit .daily-bonus-action-btn {
    background: linear-gradient(to bottom, #ffffff 0%, #f0f9ff 49%, #d6efff 50%, #e6f4ff 100%);
    border: 1px solid #8bcce6;
    color: #005580;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    font-weight: 700;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 1);
    transition: all 0.2s ease;
}

body.theme-16bit .profile-tab:hover,
body.theme-16bit .sidebar-nav-link:hover,
body.theme-16bit .daily-bonus-action-btn:hover {
    background: linear-gradient(to bottom, #fff 0%, #e6f7ff 100%);
    box-shadow: 0 0 8px rgba(0, 136, 204, 0.3);
    transform: translateY(-1px);
}

/* NOUVEAU: Boutons Top Bar transparents (sans conteneur visible) */
body.theme-16bit .top-bar-btn {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    color: #005580 !important;
}

/* État Actif (Bleu brillant) */
body.theme-16bit .profile-tab.active,
body.theme-16bit .sidebar-nav-link.active,
body.theme-16bit .view-switch-btn.active,
body.theme-16bit .lang-btn.active {
    background: linear-gradient(to bottom, #6db3f2 0%, #54a3ee 49%, #3690f0 50%, #1e69de 100%);
    color: white;
    border-color: #004466;
    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4), 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* Barre de recherche transparente */
body.theme-16bit .search-bar {
    background: rgba(255, 255, 255, 0.4) !important;
    /* Force la transparence */
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
    border-radius: 20px;
}

/* CORRECTION: Retire le style bouton du tag dans la barre de recherche pour le thème Aero */
body.theme-16bit .search-bar .top-bar-btn {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* Elements de détails (Tags, Album, Année, Streaming) style Aero */
body.theme-16bit .tag-item,
body.theme-16bit .tag-link span,
body.theme-16bit .streaming-links-container a {
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.3) 100%);
    border: 1px solid rgba(255, 255, 255, 0.5);
    border-top: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 2px 5px rgba(0, 60, 100, 0.1);
    backdrop-filter: blur(4px);
    color: var(--text-color);
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
}

/* Ajustement spécifique pour les liens de streaming en thème Aero (forme bouton) */
body.theme-16bit .streaming-links-container a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    border-radius: 12px;
    font-size: 1.5rem;
}

/* NOUVEAU: Onglets (gras uniquement) */
body.theme-16bit .playlist-tab-btn {
    font-weight: 700;
}

/* NOUVEAU: Suppression des lignes blanches sous les conteneurs d'onglets */
body.theme-16bit .playlist-tabs,
body.theme-16bit .profile-switch {
    border-bottom: none !important;
}

/* NOUVEAU: Suppression de l'ombre portée externe pour la sidebar et la topbar (intersection plus propre) */
body.theme-16bit .sidebar,
body.theme-16bit .top-bar {
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6) !important;
}

body.theme-16bit .search-bar:focus-within {
    border-color: #0088cc;
    box-shadow: 0 0 8px rgba(0, 136, 204, 0.4), inset 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* Titres avec ombre portée blanche (Embossed) */
body.theme-16bit .section-title,
body.theme-16bit h2,
body.theme-16bit h3 {
    color: #004466;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
    text-transform: none;
    letter-spacing: normal;
}

/* CORRECTION: Pour le thème Aero, le texte des cartes sombres (bonus, upcoming) doit être blanc et sans ombre. */
body.theme-16bit .daily-bonus-card,
body.theme-16bit .upcoming-release-card,
body.theme-16bit .daily-bonus-card h3,
body.theme-16bit .upcoming-release-card h3 {
    color: white !important;
    text-shadow: none !important;
}

/* CORRECTION: Ajout du padding sur les cartes d'albums pour s'aligner avec les autres cartes en thème Aero */
body.theme-16bit #albums-cards .card-info-container {
    padding-left: 10px;
}

/* Masquer l'animation de fond par défaut (bulles) car on a notre propre dégradé */
body.theme-16bit .animation-bg-area {
    display: none;
}

/* Styles spécifiques mobile (importés de mobile.css) */
@media (max-width: 952px) {
    body.theme-16bit .settings-card, 
    body.theme-16bit .search-bar, 
    body.theme-16bit .profile-tab {
        border: 1px solid rgba(255, 255, 255, 0.6) !important;
        box-shadow: 0 4px 15px rgba(0, 60, 100, 0.1) !important;
    }

    /* NOUVEAU: Cache complètement la barre de recherche repliée */
    body.theme-16bit .search-bar:not(.visible) {
        border: none !important;
        box-shadow: none !important;
    }

    /* NOUVEAU: Unifie le fond du header mobile en le rendant transparent */
    body.theme-16bit .mobile-header-icons {
        background: transparent !important;
        box-shadow: none !important;
    }
}

/* NOUVEAU: Boutons Loop et Shuffle en rouge quand actifs (comme le bouton Auto) */
body.theme-16bit #loop-btn.active,
body.theme-16bit #shuffle-btn.active,
body.theme-16bit .mobile-player-controls i.active {
    color: #ef4444 !important;
    text-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
}